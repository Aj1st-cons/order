<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Online Grocery</title>
  <style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        overflow: hidden;
    }
    #welcome, #emirates-screen, #abudhabi, #dubai, #sharjah, #ajman, #um-al-quain, #ras-al-khaimah, #fujairah {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #fff;
        color: #000;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 20;
        text-align: center;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.5s ease-in-out, visibility 0s linear 0.5s;
    }
    #welcome.visible, #emirates-screen.visible, #abudhabi.visible, #sharjah.visible, #dubai.visible, #ajman.visible, #um-al-quain.visible, #ras-al-khaimah.visible, #fujairah.visible {
        opacity: 1;
        visibility: visible;
        transition: opacity 0.3s ease-in-out, visibility 0s linear 0s;
    }
    #welcome img {
        max-width: 400px;
        margin-left: 0px;
        animation: fade-in 0.5s ease-in-out forwards;
    }
    h1 {
        display: flex;
        gap: 1px;
        font-size: 50px;
        color: #009500;
        margin-top: -5px;
        text-shadow: 1px 1px 2px black;
    }
    h1 span {
        opacity: 0;
        transform: scale(0.8);
        animation: letter-emerge 0.3s ease-in-out forwards;
    }
    h1 span.space {
        width: 10px;
    }
    h1 span:nth-child(1) { animation-delay: 0.5s; }
h1 span:nth-child(2) { animation-delay: 0.55s; }
h1 span:nth-child(3) { animation-delay: 0.6s; }
h1 span:nth-child(4) { animation-delay: 0.65s; }
h1 span:nth-child(5) { animation-delay: 0.7s; }
h1 span:nth-child(6) { animation-delay: 0.75s; }
h1 span:nth-child(7) { animation-delay: 0.8s; }
h1 span:nth-child(8) { animation-delay: 0.85s; }
h1 span:nth-child(9) { animation-delay: 0.9s; }
h1 span:nth-child(10) { animation-delay: 0.95s; }
        
    #emirates-screen, #abudhabi, #dubai, #sharjah, #ajman, #um-al-quain, #ras-al-khaimah, #fujairah {
        overflow: hidden;
        font-size: 18px;
    }

    #abudhabi, #dubai, #sharjah, #ajman, #um-al-quain, #ras-al-khaimah, #fujairah {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .city-heading {
        position: absolute;
        top: 15%;
        width: 100%;
        text-align: center;
        font-style: italic;
        font-weight: bold;
        color: #000;
    }

    .city-list {
        position: absolute;
        top: 20%;
        bottom: 10%;
        width: 100%;
        overflow-y: auto;
        padding: 0 20px;
    }
    .close-btn {
        position: absolute; 
        top: 10px; right: 10px; 
        padding: 5px 10px; 
        cursor: pointer; 
        background: none; 
        border: none;
    }

    .emirate, .emirates {
        font-weight: bold;
        color: #009500;
        line-height: 2;
        text-decoration: none;
        cursor: pointer;
        margin-bottom: 10px;
        display: block;
        text-align: center;
    }

    .emirate:hover {
        color: #005500;
    }

    @keyframes fade-in {
        0% {
            opacity: 0;
            transform: scale(0.8);
        }
        100% {
            opacity: 1;
            transform: scale(1);
        }
    }
    @keyframes letter-emerge {
        0% {
            opacity: 0;
            transform: scale(0.8);
        }
        100% {
            opacity: 1;
            transform: scale(1);
        }
    }
  </style>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">  
</head>
<body>
    
          <!-- Welcome Screen -->
     <div id="welcome" class="visible">    
<h1>
  <span>O</span><span>r</span><span>d</span><span>e</span><span>r</span>
  <span>-</span>
  <span>A</span><span>p</span><span>p</span>
</h1>
<img src="https://cdn.shopify.com/s/files/1/0702/6055/5812/files/1737349744953.png?v=1737349812" alt="Welcome Image">
  </div>
    
    <div id="emirates-screen">
    <div class="city-heading"><b>select your Emirates:</b></div>    
<span class="emirates" id="du">Dubai</span>    
<span class="emirates" id="shj">Sharjah</span>
<span class="emirates" id="ad">Abu Dhabi</span>
<span class="emirates" id="aj">Ajman</span>
<span class="emirates" id="uaq">Um Al Quain</span>
<span class="emirates" id="rak">Ras Al Khaimah</span>
<span class="emirates" id="fuj">Fujairah</span>   
    </div>

<div id="dubai">
<div class="city-heading">
<b>select your City:</b>
<button class="close-btn" data-target="emirates-screen">
<i class="fas fa-undo" style="font-size: 20px; color: #B83C08;"></i></button></div>
<div class="city-list" id="cities-dubai">                   
            </div></div>    

<div id="abudhabi">
<div class="city-heading">
<b>select your City:</b>
<button class="close-btn" data-target="emirates-screen">
<i class="fas fa-undo" style="font-size: 20px; color: #B83C08;"></i></button></div>
<div class="city-list" id="cities-abudhabi">     
               </div></div>  

<div id="sharjah">
<div class="city-heading">
<b>select your City:</b>
<button class="close-btn" data-target="emirates-screen">
<i class="fas fa-undo" style="font-size: 20px; color: #B83C08;"></i></button></div>
<div class="city-list" id="cities-sharjah">
              </div></div>
  
             <div id="ajman">
<div class="city-heading">
<b>select your City:</b>
<button class="close-btn" data-target="emirates-screen">
<i class="fas fa-undo" style="font-size: 20px; color: #B83C08;"></i></button></div>
<div class="city-list" id="cities-ajman">
              </div></div>      

          <div id="um-al-quain">
<div class="city-heading">
<b>select your City:</b>
<button class="close-btn" data-target="emirates-screen">
<i class="fas fa-undo" style="font-size: 20px; color: #B83C08;"></i></button></div>
<div class="city-list" id="cities-uaq">
              </div></div>   
  
         <div id="ras-al-khaimah">
<div class="city-heading">
<b>select your City:</b>
<button class="close-btn" data-target="emirates-screen">
<i class="fas fa-undo" style="font-size: 20px; color: #B83C08;"></i></button></div>
<div class="city-list" id="cities-rak">
              </div></div>      
  
           <div id="fujairah">
<div class="city-heading">
<b>select your City:</b>
<button class="close-btn" data-target="emirates-screen">
<i class="fas fa-undo" style="font-size: 20px; color: #B83C08;"></i></button></div>
<div class="city-list" id="cities-fujairah">
              </div></div>     

    <script>
document.addEventListener("DOMContentLoaded", () => {
  // Define Emirates and their corresponding screens
  const emirates = [
    { id: "ad", screen: "abudhabi" },
    { id: "du", screen: "dubai" },
    { id: "shj", screen: "sharjah" },
    { id: "aj", screen: "ajman" },
    { id: "uaq", screen: "um-al-quain" },
    { id: "rak", screen: "ras-al-khaimah" },
    { id: "fuj", screen: "fujairah" },
  ];

  // Add event listeners to toggle between Emirates screens
  emirates.forEach((emirate) => {
    document.getElementById(emirate.id).addEventListener("click", () => {
      document.getElementById("emirates-screen").classList.remove("visible");
      document.getElementById(emirate.screen).classList.add("visible");
    });
  });

  // Add event listeners to all close buttons
  document.querySelectorAll(".close-btn").forEach((button) => {
    button.addEventListener("click", () => {
      // Hide the current visible screen
      document.querySelectorAll(".visible").forEach((screen) => screen.classList.remove("visible"));

      // Show the target screen specified in the data-target attribute
      const target = button.getAttribute("data-target");
      document.getElementById(target).classList.add("visible");
    });
  });

  // Show the Emirates screen after 3 seconds
  setTimeout(() => {
    document.getElementById("welcome").classList.remove("visible");
    document.getElementById("emirates-screen").classList.add("visible");
  }, 3000);

  // Function to fetch cities from an external link and handle functionality
  async function fetchCities(url, containerId) {
    try {
      // Fetch HTML content from the external link
      const response = await fetch(url);
      const html = await response.text();

      // Insert the fetched HTML into the specified container
      document.getElementById(containerId).innerHTML = html;

      // Add event listeners to all links with class 'emirate' in this container
      const cityLinks = document.querySelectorAll(`#${containerId} .emirate`);
      cityLinks.forEach((link) => {
        // Add click event listener to save the link in local storage
        link.addEventListener("click", function () {
          localStorage.setItem("savedLink", this.href);
          localStorage.setItem("linkTimestamp", Date.now());
        });
      });

      // Check if a saved link exists in local storage
      const savedLink = localStorage.getItem("savedLink");
      const savedTimestamp = localStorage.getItem("linkTimestamp");

      if (savedLink && savedTimestamp) {
        const currentTime = Date.now();
        const timeDifference = currentTime - savedTimestamp;

        // Redirect to the saved link only after the welcome screen delay (3 seconds)
        setTimeout(() => {
          if (timeDifference < 60000) {
            window.location.href = savedLink;
          }
        }, 3000);
      }
    } catch (error) {
      console.error(`Error fetching cities for ${containerId}:`, error);
    }
  }

  // Fetch cities for all Emirates on page load
  fetchCities("https://order-1ib.pages.dev/cities-dubai.html", "cities-dubai");
  fetchCities("https://order-1ib.pages.dev/cities-abudhabi.html", "cities-abudhabi");
  fetchCities("https://order-1ib.pages.dev/cities-sharjah.html", "cities-sharjah");
  fetchCities("https://order-1ib.pages.dev/cities-ajman.html", "cities-ajman");
  fetchCities("https://order-1ib.pages.dev/cities-um-al-quain.html", "cities-uaq");
  fetchCities("https://order-1ib.pages.dev/cities-ras-al-khaimah.html", "cities-rak");
  fetchCities("https://order-1ib.pages.dev/cities-fujairah.html", "cities-fujairah");
});
    </script>
</body>
</html>
